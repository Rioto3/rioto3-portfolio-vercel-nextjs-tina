---
tags:
  - Python
  - ETL
  - DataScience
  - 政策分析
  - Pandas
  - SQLAlchemy
  - データ分析
  - API
title: gBizINFO APIで既得権益を探してみた
heroImg: /uploads/ChatGPT Image 2025年4月3日 16_08_53.png
excerpt: |
  gBizINFO APIを駆使し、補助金データの統計分析から浮かび上がる日本の「既得権益」を探る。

  APIによる公的データの公開とITxAIxデータサイエンス技術の発展により、市民による公的資金監視・政治参加が身近になるきっかけとなる新たな可能性。
author: content/authors/Rioto3.md
date: 2025-04-02T15:00:00.000Z
---

# gBizINFO APIで既得権益の実態に迫る

日本の「既得権益」は長年、曖昧な言葉で語られてきました。
しかし市井においては、そもそも情報が身近でないことやメディアによる感情的な扇動、批判や噂話に終始し、客観的な証拠に基づいて議論されることは稀でした。

しかし、ITテクノロジーの進化は、このような不透明な社会構造に光を当てる新たな武器をもたらしました。

今回は、gBizINFO APIという、経済産業省の産業データサービスをうまく活用すれば「補助金受給回数が多い順に企業を並べることで、既得権益の可能性を簡単に見つけることができるのでは？」というテーマをから出発して検証を行いました。

経済産業省のHP [gBizINFOデータ活用事例](https://info.gbiz.go.jp/example/index.html) では、データの前向きな活用を想定した希望的な例が紹介されています。これに対し、本研究はそうした事例には載らないような、批判的かつ客観的な調査を行った点にも大きな意義があります。

なお、本研究の過程において、このAPIには重大な技術的課題があることも判明しました。例えば、2020年のデータが最大で2024年に登録されるなど、データ更新の遅延が非常に深刻で、リアルタイムの分析を著しく困難にしています。

そこで本研究では、調査年度を最大化し調査地域を絞ることで、横断的な傾向のマクロ分析というアプローチを採用。これにより、APIの課題の影響を最小限に抑えつつ、最大限の結果を導き出しました。

（公的データがしっかりと整備されていないこと自体が、まさに官僚の既得権益と言えるかもしれません。。。）

## 2. 分析結果と発見

ここからは、分析の結果とそこから得られた発見を示していきます。なお、データは第２部における手法によって作成されています。

### データ分析の意外な結果

結果は、当初期待していた「聞いたことのないコンサルティング会社が何度も補助金を受けていて、天下りの温床となっているはず」というわかりやすいものは顕著には現れませんでした。

一方で、受給回数の上位の層は、地方自治体や公的機関でした。具体的には：

| 順位 | 法人名 | 総額（円）             | 受給回数  |
| -- | --- | ----------------- | ----- |
| 1  | 宮城県 | 1,121,292,325,461 | 2,073 |
| 2  | 仙台市 | 398,400,750,588   | 522   |
| 3  | 石巻市 | 97,036,106,565    | 401   |

### 農業法人の特異な補助金受給パターン

最も興味深い発見は、農業法人、特に農事組合法人の補助金受給パターンでした。

分析結果：

* 農事組合法人の平均受給回数：25.3回
* 一般企業の平均受給回数：約2.8回
* 農事組合法人の最大受給回数：41回

### 具体的な農業法人の補助金受給パターン：株式会社大地の事例

受給回数40件を達成した株式会社大地の補助金データを詳細に分析すると、興味深い特徴が浮かび上がります。

1. **多様な補助金種別**
   * 畑作物の直接支払交付金
   * 水田活用の直接支払交付金
   * 経営所得安定対策
   * 米の直接支払交付金
   * 畑作物産地形成促進事業
2. **受給の周期性**
   * 年間を通じて複数回の補助金受給
   * 特に12月、3月、8月、9月に集中
3. **補助金の規模**
   * 単一の補助金で数十万円から数百万円規模
   * 最大で1,240万円（畑作物産地形成促進事業）
4. **長期的な補助金戦略**
   * 2015年から2024年まで継続的な補助金受給
   * 経営環境の変化に応じた柔軟な補助金活用

### 一般企業との比較で見える特異性

一般的な民間企業と農業法人の補助金受給パターンを比較すると、さらに顕著な違いが浮かび上がります：

| 組織タイプ  | 平均受給回数 | 中央値 | 最大値 | 標準偏差 |
| ------ | ------ | --- | --- | ---- |
| 農事組合法人 | 25.3   | 24  | 41  | 8.2  |
| 株式会社   | 2.8    | 1   | 36  | 3.7  |
| 有限会社   | 3.1    | 2   | 37  | 4.2  |
| 合同会社   | 1.7    | 1   | 9   | 1.5  |

## 3. 結論

本研究の意義は、gBizINFO APIを用いて補助金データの横断的分析を可能にしたことにあります。当初の「既得権益」に関する仮説は、予想とは異なる形で検証されました。

特に農業セクターにおける補助金依存構造が浮き彫りになり、日本の農業政策の一側面を数値で示すことができました。農業法人、特に農事組合法人に補助金が頻繁に回っていることが明確に判明しました。

今後の展望としては：

* 補助金総額での更なる分析
* 他地域での比較検証
* データパイプラインの汎用化

最大の成果は、AIが活用できる信頼性の高いデータセットを作成したことにあります。

このアプローチは、データサイエンスとAI技術を活用した新しい社会分析の可能性を示唆しています。

# 第2部：技術的検証と方法論

## 7. gBizINFO APIの概要と活用法

### API概要と基本構造

gBizINFO APIは、経済産業省が提供する法人情報データベースのRESTfulインターフェースです。企業・団体の基本情報から補助金受給、特許、調達情報など多岐にわたるデータにプログラムからアクセスできます。

APIは以下のような基本構造を持っています：

* **ベースURL**: `https://info.gbiz.go.jp/hojin`
* **認証方法**: HTTPヘッダ `X-hojinInfo-api-token` による認証
* **レスポンス形式**: JSON形式
* **利用制限**: 1日あたり10,000リクエスト

### APIトークンの取得方法

APIを利用するには、専用のトークンが必要です。取得方法は以下の通りです：

1. [gBizINFO API利用申請ページ](https://info.gbiz.go.jp/api/api_registration/form)にアクセス
2. 必要事項を入力（組織名、利用目的など）
3. 申請後、メールでAPIトークンが送付される

なお、公式ドキュメントでは動作確認用として `DTcLxzo1lZaUYaQPVdSRxdS4MzlXNCs4` というトークンも提供されていますが、本格的な利用には専用トークンの取得が推奨されます。

### 主要エンドポイントの解説

分析に特に重要な2つのエンドポイントについて解説します：

1. **法人検索エンドポイント** (`/v1/hojin`)
   * 様々な条件で法人を検索
   * 地域、業種、資本金など複数の検索条件をサポート
   * ページング機能あり（1ページあたり最大5000件、最大10ページ）
2. **法人別補助金情報取得エンドポイント** (`/v1/hojin/{corporate_number}/subsidy`)
   * 特定の法人番号に紐づく補助金情報を取得
   * 各補助金の金額、交付日、省庁などの詳細情報を含む

エンドポイント呼び出しの基本形式は以下の通りです：

```python
# 法人検索の例（宮城県の補助金情報を持つ法人）
GET /v1/hojin?prefecture=04&exist_flg=true&source=4

# 特定法人の補助金情報取得の例
GET /v1/hojin/1000020042021/subsidy
```

### 実行環境と再現性

本研究では、Google Colabを用いた再現可能な分析環境を構築しています。以下のリンクからノートブックにアクセスし、実際のコードを実行できます：

[gBizINFO API分析ノートブック](https://colab.research.google.com/github/Rioto3/gbizinfo-subsidy-analysis/blob/main/gbizinfo_miyagi.ipynb)

このノートブックでは、APIの呼び出しからデータベース構築、CSVファイル生成までの一連のプロセスを実装しています。APIトークンを設定するだけで、同じ分析を再現できます。

## 8. データパイプラインの構築

### 2テーブル構造の必要性

gBizINFO APIの特性上、補助金データを効率的に収集するには2段階のプロセスが必要です：

1. **法人テーブル**: まず法人の基本情報と法人番号を取得
2. **補助金テーブル**: 各法人番号に対して補助金情報を取得

この2テーブル構造が必要な理由は、APIの設計にあります。補助金情報は法人番号をキーとして取得する必要があり、一度の検索で全補助金情報を取得することはできません。

### SQLiteデータベース設計

データ量が多くなる可能性を考慮し、インメモリのDataFrameではなくSQLiteデータベースを採用しました。SQLiteは軽量でありながら、リレーショナルデータベースの利点を活かせます。

以下にテーブル設計を示します：

```python
# ここにSQLAlchemyを使用したテーブル定義コードが入ります
# 法人テーブルと補助金テーブルの定義
```

この設計の主なポイントは以下の通りです：

* **法人テーブル**: 法人番号をプライマリキーとし、基本情報を格納
* **補助金テーブル**: 各補助金情報と、法人番号への外部キー参照を持つ
* **リレーションシップ**: 両テーブル間に1対多の関係を定義

### データ収集プロセス

データ収集は以下の順序で行います：

1. **法人データの収集**:
   * 宮城県（`prefecture=04`）の補助金情報を持つ法人を検索
   * ページングを利用して最大限のデータを取得
   * 取得した法人情報をデータベースに保存

```python
# ここに法人データ収集のコードが入ります
```

1. **補助金データの収集**:
   * 法人テーブルから法人番号のリストを取得
   * 各法人番号に対して補助金情報を取得
   * 取得した補助金情報をデータベースに保存

```python
# ここに補助金データ収集のコードが入ります
```

### エラーハンドリングと増分更新

長時間のデータ収集プロセスを安定させるため、以下の工夫を実装しています：

* **エラーハンドリング**: API接続エラーやタイムアウトに対応するtry-except構造
* **増分更新**: すでにデータベースに存在する法人はスキップ
* **定期的コミット**: 一定数のレコード処理ごとにデータベースへコミット
* **進捗表示**: 現在の処理状況を表示し、長時間処理の進捗を確認可能

これらの工夫により、途中で処理が中断しても再開可能な堅牢なデータ収集プロセスを実現しています。

## 9. データ処理と分析準備

### データクレンジングのアプローチ

APIから取得したデータには、以下のような課題が含まれることがあります：

* 補助金金額が文字列形式（「100,000円」など）
* 日付形式の不統一
* 省庁名や補助金名称の表記ゆれ
* 欠損値や異常値の存在

これらの課題に対処するため、以下のクレンジング処理を実装しています：

```python
# ここにデータクレンジングのコードが入ります
```

主なクレンジング内容：

* 金額の数値変換（カンマ除去、単位削除、整数変換）
* 日付の標準形式への変換
* 表記ゆれの標準化
* 欠損値の適切な処理（0や空文字列など）

### 集計と統合

クレンジングされたデータを基に、最終的な分析データセットを作成します。主なステップは以下の通りです：

1. **補助金受給回数の集計**:
   * 法人番号ごとに補助金レコード数をカウント
   * 法人番号ごとに補助金総額を集計
2. **法人情報との結合**:
   * 集計結果と法人テーブルを法人番号で結合
   * 必要な列のみを選択

```python
# ここに集計と結合のコードが入ります
```

### 最終CSVデータセットの生成

分析の核となる最終データセットは以下の構造を持ちます：

| corporate\_number | name | location  | subsidy\_count | total\_amount |
| ----------------- | ---- | --------- | -------------- | ------------- |
| 8000020040002     | 宮城県  | 宮城県仙台市... | 2073           | 1121292325461 |
| 8000020041009     | 仙台市  | 宮城県仙台市... | 522            | 398400750588  |
| ...               | ...  | ...       | ...            | ...           |

このデータセットを作成し、CSVファイルとして出力するコードは以下の通りです：

```python
# ここにCSV出力のコードが入ります
```

このCSVファイルが、本研究の分析の出発点となります。この時点でデータ収集・処理プロセスは完了し、次のステップである分析フェーズに移行します。

### データの品質検証

生成したデータセットの品質を確保するため、以下の検証を実施しています：

* **欠損値のチェック**: 各列の欠損値数と割合の確認
* **異常値の特定**: 極端に大きい/小さい値の特定
* **重複レコードの確認**: 同一法人の重複エントリの有無
* **基本統計量の確認**: 平均、中央値、最大値、最小値などの確認

```python
# ここにデータ品質検証のコードが入ります
```

また、サンプリングによる目視確認も重要です。特に上位の補助金受給法人については、公開情報と照合して正確性を確認しています。

## まとめ：技術的検証の意義

本パートでは、gBizINFO APIを活用した補助金データ分析の技術的側面を詳述しました。

このデータパイプラインの構築によって、最終的にCSVデータセットが生成されます。このCSVは、どのような分析手法を用いるかにかかわらず、議論の共通基盤となる客観的データです。

データサイエンスの原則に従い、本研究ではデータの取得と準備までを厳密に定義し、再現可能な形で提供しています。これにより、異なる視点や解釈を持つ人々が同じデータセットから出発し、建設的な議論を行うことが可能になります。

このCSVデータは、表計算ソフト、統計分析ツール、そして近年急速に発展している生成AIなど、様々なツールで分析できます。特に生成AIは、専門的な統計知識がなくても、データパターンの特定や洞察の抽出を支援してくれる強力なツールです。

最終的に生成されたCSVデータセットは、本研究の第1部で示す分析と考察の客観的基盤となります。読者はこの手法を自ら実践することで、公的資金の流れに関する独自の視点からの分析が可能になるでしょう。
